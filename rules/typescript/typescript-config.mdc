---
description: TypeScript configuration and coding standards for type-safe development. This rule covers tsconfig settings, strict mode requirements, type definitions, and best practices. Agents must enable strict mode, use proper type annotations, avoid 'any' type, and leverage TypeScript features for safety.
version: 1.0.0
created: 12-08-2025
lastUpdated: 12-08-2025 10:00:00 EST
alwaysApply: false
globs: **/*.ts, **/*.tsx, **/tsconfig.json
type: Tech Stack Rule - TypeScript configuration
applicability: TypeScript projects
dependencies: []
relatedCommands: []
relatedRules: [[zod-schemas.mdc], [../react/react-components.mdc]]
relatedStandards: []
---

# TypeScript Configuration Rule

## When This Rule Applies

This rule applies when:
- Setting up TypeScript projects
- Writing TypeScript code
- Configuring tsconfig.json
- Reviewing type definitions

---

## Recommended tsconfig.json

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "lib": ["ES2022", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "moduleResolution": "bundler",
    
    "strict": true,
    "noUncheckedIndexedAccess": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "isolatedModules": true,
    
    "jsx": "react-jsx",
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src"],
  "exclude": ["node_modules", "dist"]
}
```

---

## Type Safety Best Practices

### Avoid `any`

```typescript
// Bad
function process(data: any) { ... }

// Good
function process(data: unknown) { ... }
function process<T extends Record<string, unknown>>(data: T) { ... }
```

### Use Type Guards

```typescript
function isUser(obj: unknown): obj is User {
  return (
    typeof obj === 'object' &&
    obj !== null &&
    'id' in obj &&
    'email' in obj
  );
}

if (isUser(data)) {
  console.log(data.email); // Type-safe
}
```

### Prefer `interface` for Objects

```typescript
// Good: Use interface for object shapes
interface User {
  id: string;
  email: string;
  name: string;
}

// Use type for unions, intersections, utilities
type Status = 'active' | 'inactive';
type UserWithRole = User & { role: Role };
```

---

## Utility Types

```typescript
// Make all properties optional
type PartialUser = Partial<User>;

// Make all properties required
type RequiredUser = Required<User>;

// Pick specific properties
type UserCredentials = Pick<User, 'email' | 'password'>;

// Omit specific properties
type PublicUser = Omit<User, 'password'>;

// Make properties readonly
type ImmutableUser = Readonly<User>;

// Record type
type UserMap = Record<string, User>;
```

---

## Function Types

```typescript
// Explicit return types for public functions
function createUser(input: CreateUserInput): Promise<User> {
  // ...
}

// Arrow function types
const formatDate: (date: Date) => string = (date) => {
  return date.toISOString();
};

// Async function types
type AsyncHandler = (req: Request) => Promise<Response>;
```

---

## Generic Patterns

```typescript
// Generic function
function first<T>(array: T[]): T | undefined {
  return array[0];
}

// Generic with constraints
function merge<T extends object, U extends object>(a: T, b: U): T & U {
  return { ...a, ...b };
}

// Generic interface
interface Repository<T> {
  findById(id: string): Promise<T | null>;
  create(data: Omit<T, 'id'>): Promise<T>;
  update(id: string, data: Partial<T>): Promise<T>;
  delete(id: string): Promise<void>;
}
```

---

## Anti-Patterns to Avoid

- ❌ Using `any` instead of proper types
- ❌ Disabling strict mode
- ❌ Type assertions without validation (`as`)
- ❌ Non-null assertions (`!`) without checks
- ❌ Implicit `any` in parameters

---

## Checklist

- [ ] Strict mode enabled
- [ ] No `any` types
- [ ] Return types specified
- [ ] Proper type guards used
- [ ] Generics used appropriately
- [ ] Path aliases configured

---

## Related Files

- **Rules:**
  - [zod-schemas.mdc](./zod-schemas.mdc) - Runtime validation
  - [../react/react-components.mdc](../react/react-components.mdc) - React TypeScript
